<!DOCTYPE html>
<html>
    <head>
        <p id="demo"></p>
    </head>
    <body>
       <script>
       function getCurrentTime(onSuccess, onFail) {
           debugger
           console.log("getCurrentTime function")
        // Get the current 'global' time from an API using Promise
        return new Promise((resolve, reject) => {
            debugger 
            console.log("promise")
           setInterval(function() {
               debugger
               console.log("setTimeout")
           var didSucceed = Math.random() >= 0.5;
           console.log(didSucceed)
           debugger
          didSucceed ? resolve(new Date()) : reject('Error');
          }, 2000);
        })
        }
        function A(){
            console.log("A");
            debugger
        }
        function B(){console.log("B");
        debugger        
        }
        A();
         getCurrentTime()
          .then(currentTime => getCurrentTime())
           .then(currentTime => {
            console.log('The current time is: ' + currentTime);
         return true;
          })
          .catch(err => console.log('There was an error:' + err))
          B();
        </script>
    </body>
</html>